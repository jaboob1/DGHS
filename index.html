
â€<!DOCTYPE html>
â€<html lang="ar">
â€<head>
â€  <meta charset="UTF-8">
â€  <title>Ø£Ø­ØªØ³Ø§Ø¨ Ø±Ø§ØªØ¨ Ù„ÙØªØ±Ø© Ù…Ø­Ø¯Ø¯Ø©</title>
â€  <style>
â€    body {
â€      font-family: Arial, sans-serif;
â€      direction: rtl;
â€      margin: 0;
â€      padding: 20px;
â€      background: #f9f9f9;
â€      position: relative;
â€      min-height: 100vh;
    }
â€    .header {
â€      display: flex;
â€      align-items: center;
â€      justify-content: center;
â€      margin-bottom: 20px;
â€      text-align: center;
â€      padding: 15px;
â€      background: linear-gradient(to left, #f8f8f8, #e8e8e8);
â€      border-radius: 8px;
â€      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
â€    .header img {
â€      width: 80px;
â€      height: 80px;
â€      margin-left: 20px;
    }
â€    .header-text {
â€      font-weight: bold;
â€      font-size: 18px;
â€      line-height: 1.8;
    }
â€    .header-line {
â€      font-weight: 900;
â€      color: #8B0000;
â€      margin: 5px 0;
â€      font-size: 20px;
â€      text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    }
â€    .container {
â€      padding: 25px;
â€      border: 2px solid #8B0000;
â€      border-radius: 10px;
â€      max-width: 800px;
â€      margin: 0 auto 80px auto;
â€      background: white;
â€      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
â€    label {
â€      display: inline-block;
â€      width: 180px;
â€      margin: 5px 0;
â€      font-weight: bold;
    }
â€    input {
â€      padding: 8px;
â€      width: 200px;
â€      margin: 5px;
â€      border: 1px solid #ccc;
â€      border-radius: 4px;
    }
â€    input[readonly] {
â€      background-color: #f5f5f5;
â€      color: #333;
    }
â€    .result {
â€      margin-top: 20px;
â€      font-weight: bold;
â€      color: green;
â€      line-height: 1.8;
â€      padding: 15px;
â€      background-color: #f0f9f0;
â€      border-radius: 5px;
â€      border: 1px solid #c3e6c3;
    }
â€    .separator {
â€      border-top: 2px solid #8B0000;
â€      margin: 20px 0;
â€      width: 100%;
    }
â€    .approval-section {
â€      display: flex;
â€      justify-content: space-between;
â€      margin-top: 30px;
    }
â€    .approval-box {
â€      text-align: center;
â€      padding: 15px;
â€      border: 1px solid #8B0000;
â€      border-radius: 5px;
â€      width: 45%;
    }
â€    .approval-line {
â€      font-weight: bold;
â€      margin-top: 40px;
    }
â€    .footer {
â€      position: fixed;
â€      bottom: 0;
â€      left: 0;
â€      right: 0;
â€      background-color: #8B0000;
â€      color: white;
â€      text-align: center;
â€      padding: 10px;
â€      font-size: 16px;
â€      font-weight: bold;
    }
â€    .print-btn {
â€      display: block;
â€      margin: 20px auto;
â€      padding: 12px 25px;
â€      font-size: 16px;
â€      background: #8B0000;
â€      color: white;
â€      border: none;
â€      cursor: pointer;
â€      border-radius: 5px;
â€      transition: background 0.3s;
    }
â€    .print-btn:hover {
â€      background: #700000;
    }
â€    h3 {
â€      text-align: center;
â€      color: #8B0000;
â€      margin-bottom: 20px;
â€      font-size: 24px;
    }
â€    @media print {
â€      body {
â€        margin: 10mm;
â€        background: white;
â€        padding: 0;
      }
â€      .container {
â€        border: none;
â€        box-shadow: none;
â€        margin-bottom: 0;
â€        width: 100%;
â€        max-width: 100%;
      }
â€      .print-btn {
â€        display: none;
      }
â€      .footer {
â€        position: fixed;
â€        bottom: 0;
â€        left: 0;
â€        right: 0;
â€        background-color: white;
â€        color: black;
â€        border-top: 2px solid #8B0000;
      }
â€      .approval-box {
â€        page-break-inside: avoid;
      }
    }
â€  </style>
â€</head>
â€<body>

â€  <div class="header">
â€    <div class="header-text">
â€      <div class="header-line">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</div>
â€      <div class="header-line">Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØµØ­ÙŠØ© Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø¸ÙØ§Ø±</div>
â€      <div class="header-line">Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠØ© - Ù‚Ø³Ù… Ø§Ù„Ø±ÙˆØ§ØªØ¨ ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
â€    </div>
â€  </div>

â€  <div class="container">
â€    <h3>Ø£Ø­ØªØ³Ø§Ø¨ Ø±ÙˆØ§ØªØ¨ Ù„ÙØªØ±Ø© Ù…Ø­Ø¯Ø¯Ø©</h3>

â€    <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù:</label>
â€    <input type="text" id="employeeName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù"><br>

â€    <label>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù:</label>
â€    <input type="text" id="employeeNumber" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù"><br><br>

â€    <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©:</label>
â€    <input type="date" id="startDate"><br>

â€    <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©:</label>
â€    <input type="date" id="endDate"><br><br>

â€    <div>
â€      <label>Ø§Ù„Ø¨Ø¯Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:</label>
â€      <input type="number" id="basic" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="basicResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ Ø§Ù„Ø³ÙƒÙ†:</label>
â€      <input type="number" id="housing" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="housingResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡:</label>
â€      <input type="number" id="electricity" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="electricityResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ Ø§Ù„Ù…Ø§Ø¡:</label>
â€      <input type="number" id="water" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="waterResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ Ø§Ù„Ù‡Ø§ØªÙ:</label>
â€      <input type="number" id="phone" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="phoneResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ Ø§Ù„Ù†Ù‚Ù„:</label>
â€      <input type="number" id="transport" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="transportResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ Ù…Ù‡Ù†ÙŠ:</label>
â€      <input type="number" id="professional" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="professionalResult" readonly><br>

â€      <label>Ø¨Ø¯Ù„ ØºÙ„Ø§Ø¡ Ù…Ø¹ÙŠØ´Ø©:</label>
â€      <input type="number" id="costLiving" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
â€      <input type="text" id="costLivingResult" readonly><br>
â€    </div>

â€    <div class="separator"></div>

â€    <div class="result">
      Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø­ØªØ³Ø¨Ø©: <span id="daysCount">0</span><br>
      Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ: <span id="totalAllowances">0</span><br>
      Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ­Ù‚ Ù„Ù„ÙØªØ±Ø©Ø§Ù„Ù…Ø­ØªØ³Ø¨Ø©: <span id="totalPeriod">0</span><br>
      Ø£Ø³ØªÙ‚Ø·Ø§Ø¹ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© (8%): <span id="deduction">0</span><br>
      âœ… ØµØ§ÙÙŠ Ø§Ù„Ù…Ø³ØªØ­Ù‚: <span id="net">0</span>
â€    </div>


â€    </div>
â€    <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯</button>
â€  </div>

â€  <div class="footer">
    Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ÙˆØ¸Ù: Ù…Ø­Ù…Ø¯ Ø¬Ø¹Ø¨ÙˆØ¨ - Ù‚Ø³Ù… Ø§Ù„Ø±ÙˆØ§ØªØ¨ ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª - Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠØ©
â€  </div>

â€  <script>
â€    const startDate = document.getElementById("startDate");
â€    const endDate = document.getElementById("endDate");

    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„ØªÙƒÙˆÙ† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
â€    const today = new Date();
â€    const firstDayOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);
â€    const lastDayOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);
    
    // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ù„Ù„Ø¹Ù†Ø§ØµØ± input[type="date"]
â€    function formatDate(date) {
â€      const year = date.getFullYear();
â€      const month = (date.getMonth() + 1).toString().padStart(2, '0');
â€      const day = date.getDate().toString().padStart(2, '0');
â€      return `${year}-${month}-${day}`;
    }
    
â€    startDate.value = formatDate(firstDayOfMonth);
â€    endDate.value = formatDate(lastDayOfMonth);

â€    const allowances = [
â€      {id:"basic", result:"basicResult"},
â€      {id:"housing", result:"housingResult"},
â€      {id:"electricity", result:"electricityResult"},
â€      {id:"water", result:"waterResult"},         
â€      {id:"phone", result:"phoneResult"},
â€      {id:"transport", result:"transportResult"},
â€      {id:"professional", result:"professionalResult"},
â€      {id:"costLiving", result:"costLivingResult"}
    ];

â€    const totalAllowances = document.getElementById("totalAllowances");
â€    const totalPeriod = document.getElementById("totalPeriod");
â€    const deduction = document.getElementById("deduction");
â€    const net = document.getElementById("net");
â€    const daysCount = document.getElementById("daysCount");

â€    function daysInMonth(year, month) {
â€      return new Date(year, month + 1, 0).getDate();
    }

â€    function calculate() {
â€      if (!(startDate.value && endDate.value)) return;

â€      let start = new Date(startDate.value);
â€      let end = new Date(endDate.value);

â€      if (end < start) {
â€        totalPeriod.textContent = "âŒ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©";
â€        daysCount.textContent = "0";
â€        return;
      }

      // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…
â€      let diffTime = end - start;
â€      let days = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
â€      daysCount.textContent = days;

â€      let totalBase = 0;
â€      let totalCalc = 0;

â€      allowances.forEach(item => {
â€        let input = document.getElementById(item.id);
â€        let resultBox = document.getElementById(item.result);
â€        let monthly = parseFloat(input.value) || 0;
â€        totalBase += monthly;

â€        let current = new Date(start);
â€        let sum = 0;
â€        while (current <= end) {
â€          let year = current.getFullYear();
â€          let month = current.getMonth();
â€          let daysInThisMonth = daysInMonth(year, month);
â€          let daily = monthly / daysInThisMonth;
â€          sum += daily;
â€          current.setDate(current.getDate() + 1);
        }

â€        resultBox.value = sum.toFixed(3);
â€        totalCalc += sum;
      });

â€      totalAllowances.textContent = totalBase.toFixed(3);
â€      totalPeriod.textContent = totalCalc.toFixed(3);

â€      let ded = totalCalc * 0.08;
â€      deduction.textContent = ded.toFixed(3);

â€      let netValue = totalCalc - ded;
â€      net.textContent = netValue.toFixed(3);
    }

    // Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ø¨Ø¯Ù„Ø§Øª Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬
â€    document.getElementById("basic").value = 1000;
â€    document.getElementById("housing").value = 300;
â€    document.getElementById("electricity").value = 50;
â€    document.getElementById("water").value = 30;
â€    document.getElementById("phone").value = 20;
â€    document.getElementById("transport").value = 100;
â€    document.getElementById("professional").value = 200;
â€    document.getElementById("costLiving").value = 150;

â€    startDate.addEventListener("change", calculate);
â€    endDate.addEventListener("change", calculate);
â€    allowances.forEach(item=>{
â€      document.getElementById(item.id).addEventListener("input", calculate);
    });

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù‚ÙŠÙ… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
â€    window.onload = calculate;
â€  </script>

â€</body>
â€</html>