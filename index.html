<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>نظام الصفحات</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      direction: rtl;
      background: #f5f5f5;
    }
    /* شريط التنقل */
    .navbar {
      background-color: #333;
      overflow: hidden;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
    }
    .navbar button {
      background-color: #333;
      border: none;
      color: white;
      padding: 14px 20px;
      cursor: pointer;
      font-size: 16px;
    }
    .navbar button:hover {
      background-color: #555;
    }
    .content {
      margin-top: 70px;
      padding: 15px;
    }
  </style>
</head>
<body>

  <!-- شريط التنقل -->
  <div class="navbar">
    <button onclick="goTo('home')">الرئيسية</button>
    <button onclick="goTo('old')">الاحتساب القديم</button>
    <button onclick="goTo('new')">الاحتساب الجديد</button>
  </div>

  <!-- المحتوى -->
  <div class="content" id="content">
    <h1>مرحبا</h1>
    <p>هذه الصفحة الرئيسية.</p>
  </div>

  <script>
    function goTo(page) {
      const content = document.getElementById("content");

      if (page === "home") {
        content.innerHTML = "<h1>مرحبا</h1><p>هذه الصفحة الرئيسية.</p>";
      } 
      else if (page === "old") {
        content.innerHTML = getOldCalculatorHTML();
        initOldCalculatorScripts();
      } 
      else if (page === "new") {
        content.innerHTML = getNewCalculatorHTML();
        initNewCalculatorScripts();
      }
    }

    /* ----------------- الحاسبة القديمة ----------------- */
    function getOldCalculatorHTML() {
      return `
      <style>
        .old-container {
          padding: 15px;
          border: 2px solid #006699;
          border-radius: 8px;
          width: 90%;
          max-width: 600px;
          margin: 10px auto;
          background: white;
          box-shadow: 0 0 8px rgba(0,0,0,0.1);
        }
        .old-container h3 { text-align: center; color: #006699; }
        .old-row { margin-bottom: 8px; }
        .old-row label { display: inline-block; width: 150px; font-weight: bold; }
        .old-row input { padding: 5px; }
        .old-result { margin-top: 12px; font-weight: bold; color: green; text-align: center; }
        .old-buttons { text-align: center; margin-top: 10px; }
        .old-buttons button { padding: 6px 14px; margin: 0 5px; cursor: pointer; }
      </style>

      <div class="old-container">
        <h3>الحاسبة القديمة</h3>
        <div class="old-row">
          <label>اسم الموظف:</label>
          <input type="text" id="oldName">
        </div>
        <div class="old-row">
          <label>رقم الموظف:</label>
          <input type="text" id="oldNumber">
        </div>
        <div class="old-row">
          <label>الراتب الأساسي:</label>
          <input type="number" id="oldSalary">
        </div>
        <div class="old-row">
          <label>عدد الأيام:</label>
          <input type="number" id="oldDays">
        </div>
        <div class="old-result">صافي المستحق: <span id="oldNet">0</span></div>
        <div class="old-buttons">
          <button onclick="calcOld()">احسب</button>
          <button onclick="resetOld()">تفريغ</button>
          <button onclick="window.print()">🖨️ طباعة</button>
        </div>
      </div>
      `;
    }

    function initOldCalculatorScripts() {
      window.calcOld = function() {
        let salary = parseFloat(document.getElementById("oldSalary").value) || 0;
        let days = parseInt(document.getElementById("oldDays").value) || 0;
        let daily = salary / 30;
        let total = daily * days;
        document.getElementById("oldNet").textContent = total.toFixed(2);
      }

      window.resetOld = function() {
        document.getElementById("oldName").value = "";
        document.getElementById("oldNumber").value = "";
        document.getElementById("oldSalary").value = "";
        document.getElementById("oldDays").value = "";
        document.getElementById("oldNet").textContent = "0";
      }
    }

    /* ----------------- الحاسبة الجديدة ----------------- */
    function getNewCalculatorHTML() {
      return `
      <style>
        .container {
          padding: 15px;
          border: 2px solid #8B0000;
          border-radius: 8px;
          width: 95%;
          max-width: 750px;
          margin: 10px auto;
          background: white;
          box-shadow: 0 0 10px rgba(0,0,0,0.1);
          position: relative;
          text-align: right;
        }
        .inner-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
          padding-bottom: 8px;
          border-bottom: 2px solid #8B0000;
        }
        .inner-logo img { height: 50px; }
        .inner-title { flex: 1; text-align: center; }
        .directorate-title { font-size: 16px; color: #8B0000; font-weight: bold; }
        .department-title { font-size: 13px; color: #8B0000; }

        h3 { text-align: center; color: #8B0000; margin-bottom: 12px; }

        .input-row { display: flex; align-items: center; margin-bottom: 6px; }
        label { width: 160px; font-weight: bold; }
        input, select { padding: 5px; margin: 3px; border: 1px solid #ccc; border-radius: 3px; }
        input.employee-input { width: 210px; }
        input.amount-input { width: 110px; }
        input[readonly] { background: #f5f5f5; }

        .result {
          margin-top: 10px;
          font-weight: bold;
          color: green;
          padding: 8px;
          background: #f0f9f0;
          border: 1px solid #c3e6c3;
          border-radius: 4px;
        }
        .approval-section { display: flex; justify-content: space-between; margin-top: 15px; padding: 10px 0; border-top: 2px solid #8B0000; }
        .button-container { display: flex; justify-content: center; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
        .print-btn, .reset-btn { padding: 8px 16px; border: none; color: white; border-radius: 4px; cursor: pointer; }
        .print-btn { background: #8B0000; }
        .reset-btn { background: #2E8B57; }
        .disclaimer { text-align: center; margin-top: 15px; padding: 6px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; color: #856404; font-size: 12px; }
        .footer-animation { position: fixed; bottom: 0; left: 0; width: 100%; background: #8B0000; color: white; padding: 6px 0; text-align: center; }
        .marquee span { display: inline-block; animation: marquee 20s linear infinite; }
        @keyframes marquee { from { transform: translateX(100%);} to { transform: translateX(-100%);} }
      </style>

      <div class="container">
        <div class="inner-header">
          <div class="inner-logo"><img src="https://moh.gov.om/images/logo-ministry-en.png"></div>
          <div class="inner-title">
            <div class="directorate-title">المديرية العامة للخدمات الصحية لمحافظة ظفار</div>
            <div class="department-title">دائرة الشؤون المالية - قسم الرواتب والمصروفات</div>
          </div>
          <div class="inner-logo"><img src="https://moh.gov.om/images/Oman-Vision-Logo.png"></div>
        </div>
        <h3>حاسبة رواتب</h3>
        <div class="input-row"><label>اسم الموظف:</label><input type="text" id="employeeName" class="employee-input"></div>
        <div class="input-row"><label>رقم الموظف:</label><input type="text" id="employeeNumber" class="employee-input"></div>
        <div class="input-row"><label>نوع العقد:</label>
          <select id="contractType">
            <option value="permanent">عقود دائمة</option>
            <option value="temporary">عقود مؤقتة</option>
          </select>
        </div>
        <div class="input-row"><label>تاريخ البداية:</label><input type="date" id="startDate"></div>
        <div class="input-row"><label>تاريخ النهاية:</label><input type="date" id="endDate"></div>
        <div class="input-row"><label>البدل الأساسي:</label>
          <input type="number" id="basic" class="amount-input">
          <input type="text" id="basicResult" readonly>
        </div>
        <div class="result">
          عدد الأيام المحتسبة: <span id="daysCount">0</span><br>
          إجمالي الراتب الشهري: <span id="totalAllowances">0</span><br>
          ✅ صافي المستحق: <span id="net">0</span>
        </div>
        <div class="approval-section"><div>إعداد ومراجعة: ___________</div><div>اعتماد المدير: ___________</div></div>
        <div class="button-container">
          <button class="print-btn" onclick="window.print()">🖨️ طباعة</button>
          <button class="reset-btn" onclick="resetForm()">🗑️ تفريغ</button>
        </div>
        <div class="disclaimer">للتنويه: هذه الأداة للتجربة فقط</div>
      </div>
      <div class="footer-animation"><div class="marquee"><span>جميع الحقوق محفوظة © 2025</span></div></div>
      `;
    }

    function initNewCalculatorScripts() {
      const startDate = document.getElementById("startDate");
      const endDate = document.getElementById("endDate");
      const basic = document.getElementById("basic");
      const basicResult = document.getElementById("basicResult");
      const totalAllowances = document.getElementById("totalAllowances");
      const net = document.getElementById("net");
      const daysCount = document.getElementById("daysCount");

      function calculate() {
        if (!(startDate.value && endDate.value)) return;
        let start = new Date(startDate.value);
        let end = new Date(endDate.value);
        if (end < start) return;

        let diffTime = end - start;
        let days = Math.floor(diffTime / (1000*60*60*24)) + 1;
        daysCount.textContent = days;

        let salary = parseFloat(basic.value) || 0;
        let daily = salary / 30;
        let total = daily * days;
        basicResult.value = total.toFixed(2);
        totalAllowances.textContent = salary.toFixed(2);
        net.textContent = total.toFixed(2);
      }

      function resetForm() {
        document.getElementById("employeeName").value = "";
        document.getElementById("employeeNumber").value = "";
        startDate.value = "";
        endDate.value = "";
        basic.value = "";
        basicResult.value = "";
        totalAllowances.textContent = "0";
        net.textContent = "0";
        daysCount.textContent = "0";
      }

      window.resetForm = resetForm;

      startDate.addEventListener("change", calculate);
      endDate.addEventListener("change", calculate);
      basic.addEventListener("input", calculate);
    }
  </script>

</body>
</html>